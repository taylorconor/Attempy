{% extends "base.html" %}

{% block title %}
Editor
{% endblock %}

{% block head %}
<style type="text/css" media="screen">
    #editor {
        display: inline;
        height: 725px;
    }

    #folder-sidebar{
        top: 0;
        left: 0;
        display: inline;
    }

    #folder-sidebar .nav-header{
        cursor: pointer;
    }
    #folder-sidebar .well{
        height: 725px;
    }
    .container-fluid{
        position: absolute;
        width: 80%;
        left: 20%;
    }
    .no-space [class*="span"]{
        margin-left: 0 !important;
    }
    .no-space{
        margin: 30px;
        margin-right: 0px;
        margin-bottom: 0px;
    }
</style>
{% endblock %}

{% block content %}

<div class="row-fluid no-space">
  <div id="folder-sidebar" class="span2">
        <div class="well">
            <div>
                <ul class="nav nav-list">
                    <li><label class="tree-toggle nav-header">Bootstrap</label>
                        <ul class="nav nav-list tree">
                            <li><a href="#">JavaScript</a></li>
                            <li><a href="#">CSS</a></li>
                            <li><label class="tree-toggle nav-header">Buttons</label>
                                <ul class="nav nav-list tree">
                                    <li><a href="#">Colors</a></li>
                                    <li><a href="#">Sizes</a></li>
                                    <li><label class="tree-toggle nav-header">Forms</label>
                                        <ul class="nav nav-list tree">
                                            <li><a href="#">Horizontal</a></li>
                                            <li><a href="#">Vertical</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li><label class="tree-toggle nav-header">Responsive</label>
                        <ul class="nav nav-list tree">
                            <li><a href="#">Overview</a></li>
                            <li><a href="#">CSS</a></li>
                            <li><label class="tree-toggle nav-header">Media Queries</label>
                                <ul class="nav nav-list tree">
                                    <li><a href="#">Text</a></li>
                                    <li><a href="#">Images</a></li>
                                    <li><label class="tree-toggle nav-header">Mobile Devices</label>
                                        <ul class="nav nav-list tree">
                                            <li><a href="#">iPhone</a></li>
                                            <li><a href="#">Samsung</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><label class="tree-toggle nav-header">Coding</label>
                                <ul class="nav nav-list tree">
                                    <li><a href="#">JavaScript</a></li>
                                    <li><a href="#">jQuery</a></li>
                                    <li><label class="tree-toggle nav-header">HTML DOM</label>
                                        <ul class="nav nav-list tree">
                                            <li><a href="#">DOM Elements</a></li>
                                            <li><a href="#">Recursive</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
  <div id="editor" class="span10"></div>

</div>

<div class="container-fluid">
        <form class="form-horizontal" action="pml_save_file" method="post" id="save_form">

            <div class="form-group">
                <textarea id="file_name" style="display:none;">TEMPORARY_FILE_NAME.pml</textarea>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-default">Save</button>
            </div>

        </form>
</div>
<script src="{{ url_for('static', filename='ace/build/src/ace.js') }}"
        type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    // dark theme
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/javascript");
    // keybindings for search and replace (win == linux)
    editor.commands.addCommand({
        name: 'replace',
        bindKey: {win: 'Ctrl-R', mac: 'Command-alt-F'},
        exec: function(editor) {
            ace.config.loadModule("ace/ext/searchbox", function(e) {e.Search(editor, true)});
        },
        readOnly: true
    });
</script>
<script>
$('.tree-toggle').click(function () {
    $(this).parent().children('ul.tree').toggle(200);
});
</script>
{% endblock %}